<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://java.sun.com/jsf/facelets">


<ui:composition>
	<div class="flex-column-center">
		<h:outputLabel value="#{msg['bankcard-management.title']}" />
		<fieldset class="flex-column-center">
			<legend>
				<h:outputLabel value="#{msg['bankcard-management.list']}" />
			</legend>
			<h:form>

				<h:selectOneMenu value="#{settingBean.settingBankCard.id}"
					class="flex-row-center padding-1rem margin-auto"
					onchange="submit()"
					valueChangeListener="#{settingBean.bankCardChange}">
					<f:selectItems value="#{settingBean.settingCostumer.bankCardList}"
						var="oneCard" itemValue="#{oneCard.id}"
						itemLabel="#{oneCard.cardNumber}" />
				</h:selectOneMenu>
			</h:form>
			<h:form class="flex-column-center">
				<h:inputText id="cardNumber"
					value="#{settingBean.settingBankCard.cardNumber}" required="true"
					class="border-radius height-3rem padding-1rem" />
				<!-- 					<f:validateRegex pattern="(^[0-9]{16}|[0-9]{12}$)"></f:validateRegex> -->
				<h:message for="cardNumber" style="message"></h:message>

				<h:inputText id="expiryDate"
					value="#{settingBean.settingBankCard.expiryDateTxt}" required="true"
					a:placeholder="#{msg['bankcard-management.expiry']}"
					class="border-radius height-3rem padding-1rem"
					requiredMessage="#{msg['bankcard-management.prompt.expiry']}">
					<f:validateRegex pattern="^(0[1-9]|1[0-2])\/?([0-9]{4}|[0-9]{2})$"></f:validateRegex>
				</h:inputText>
				
				<fieldset class="border-radius  padding-1rem margin-auto">
				<legend>
					<h:outputLabel value="#{msg['bankcard-management.valide']}" />
				</legend>
				<h:selectOneRadio id="bankcardValid" required="true"
					layout="pageDirection"
					value="#{settingBean.settingBankCard.isValid}"
					requiredMessage="#{msg['bankcard-management.prompt.is-valid']}">
					<f:selectItem
						itemLabel="#{msg['bankcard-management.prompt.not-valid']}"
						itemValue="#{itemManagementBean.falseValue}" />
					<f:selectItem 
						itemLabel="#{msg['bankcard-management.prompt.valid']}"
						itemValue="#{itemManagementBean.trueValue}" />
				</h:selectOneRadio>
				<h:message for="bankcardValid" style="color:red"></h:message>
			</fieldset>
				
				<h:message for="expiryDate" style="message"></h:message>
				<div class="flex-row-center">
					<h:commandButton id="submitBankCardModification"
						value="#{msg['bankcard-management.submit']}"
						styleClass="border-radius height-4rem submit-button"
						action="#{settingBean.updateBankCard}" />
					<h:commandButton id="NewCard"
						value="#{msg['bankcard-management.new-card']}"
						styleClass="border-radius height-4rem submit-button"
						action="#{settingBean.newBankCard}" />
				</div>
				<h:panelGroup rendered="#{msg['cheat.mode']}">
					<h:commandButton action="#{settingBean.cheatBankCard}"
						class="border-radius  padding-1rem button-header"
						value="#{msg['cheat.name']}">

					</h:commandButton>

				</h:panelGroup>
			</h:form>
			<div class="row-div">
				<p>ps #{loginBean.promptStatus}</p>
			</div>
		</fieldset>

	</div>
</ui:composition>

</html>


