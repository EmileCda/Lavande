<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:ui="http://java.sun.com/jsf/facelets">


<ui:composition>
	<div class="flex-column-center">
		<h:outputLabel value="#{msg['bankcard-management.title']}" />
		<h:outputLabel value="#{loginBean.currentBankCard.cardNumber}" />
			<h:form>

		<fieldset class="flex-column-center">
			<legend>
				<h:outputLabel value="#{msg['bankcard-management.list']}" />
			</legend>
			<div class="flex-row-center padding-top-3rem margin-auto ">
				<h:selectOneMenu value="#{loginBean.currentBankCard.id}"
					class="flex-row-center padding-1rem margin-auto"
					onchange="submit()"
					valueChangeListener="#{loginBean.bankCardChange}">
					<f:selectItems value="#{loginBean.settingCostumer.bankCardList}"
						var="oneCard" itemValue="#{oneCard.id}"
						itemLabel="#{oneCard.cardNumber}" />
				</h:selectOneMenu>
			</div>



				<h:inputText id="cardNumber"
					value="#{loginBean.currentBankCard.cardNumber}" required="true"
					a:placeholder="#{msg['create-bankcard.card-number']}"
					class="border-radius height-3rem padding-1rem"
					requiredMessage="#{msg['create-bankcard.prompt.cardNumber']}">
					<f:validateLength minimum="12" maximum="16" />
					<f:validateRegex pattern="(^4[0-9]{12}(?:[0-9]{3})?$)"></f:validateRegex>
				</h:inputText>
				<h:message for="cardNumber" style="message"></h:message>

				<h:inputText id="expiryDate"
					value="#{loginBean.currentBankCard.expiryDateTxt}" required="true"
					a:placeholder="#{msg['create-bankcard.expiry']}"
					class="border-radius height-3rem padding-1rem"
					requiredMessage="#{msg['account.prompt.expiry']}">
					<f:validateRegex pattern="^(0[1-9]|1[0-2])\/?([0-9]{4}|[0-9]{2})$"></f:validateRegex>
				</h:inputText>
				<h:message for="expiryDate" style="message"></h:message>
				<div class="row-div">
					<p>#{loginBean.promptStatus}</p>
				</div>
		</fieldset>
			</h:form>
	</div>
</ui:composition>

</html>


